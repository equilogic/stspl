<openerp>
	<data>

		<!-- Graph view of Stspl Sales Analysis -->
		<record id="stspl_sales_analysis_graph_view" model="ir.ui.view">
			<field name="name">stspl.sales.report.graph</field>
			<field name="model">stspl.sales.report</field>
			<field name="arch" type="xml">
				<graph string="Sales Analysis" type="pivot" stacked="True">
                 <field name="date" type="row"/>
                 <field name="price_total" type="measure"/>
				</graph>
			</field>
		</record>


		<!-- Search View-->
		<record id="stspl_sales_analysis_search_view" model="ir.ui.view">
	        <field name="name">Stspl Sales Report Search</field>
	        <field name="model">stspl.sales.report</field>
	        <field name="arch" type="xml">
	            <search string="Sales Analysis">
	                <field name="date"/>
	                <filter string="This Year" name="year" invisible="1" domain="[('date','&lt;=', time.strftime('%%Y-12-31')),('date','&gt;=',time.strftime('%%Y-01-01'))]"/>
	                <filter name="Sales" string="Sales" domain="[('state','not in',('draft', 'cancel'))]"/>
	            </search>
	        </field>
		</record>
		
		<!-- Action of Stspl Sales Analysis -->
		<record id="action_stspl_sales_analysis" model="ir.actions.act_window">
			<field name="name">Stspl Sales Analysis</field>
			<field name="res_model">stspl.sales.report</field>
			<field name="view_type">form</field>
			<field name="view_mode">graph</field>
			<field name="search_view_id" ref="stspl_sales_analysis_search_view"/>
        	<field name="view_id" ref="stspl_sales_analysis_graph_view"/>
        	<field name="context">{'search_default_Sales':1, 'group_by_no_leaf':1,'group_by':[]}</field>
		</record>

		<!-- Wizard -->
        <record id="wiz_sales_analysis_report_view" model="ir.ui.view">
            <field name="name">wizard Sales Analysis Report</field>
            <field name="model">wiz.sales.analysis.report</field>
            <field name="arch" type="xml">
                <form string="Sales Analysis Report">
                    <group>
                        <field name="choose_date"/>
                    </group>
                	<group col="4" colspan="4">
                		<field name="date_start" attrs="{'invisible': [('choose_date', '=', False)]}"/>
                		<field name="date_end" attrs="{'invisible': [('choose_date', '=', False)]}"/>
            		</group>
                    <footer>
                        <button name="%(action_stspl_sales_analysis)d" type="action" string="Show Report"
                            class="oe_highlight" attrs="{'invisible': [('choose_date', '=', True)]}"/>
                        <button name="print_xls_analysis_report" type="object" string="Xls Export"
                            class="oe_highlight" attrs="{'invisible': [('choose_date', '=', False)]}"/>
                        Or
                        <button string="Cancel" class="oe_link" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

        <!-- xls wizard view -->
        <record id="wiz_stspl_sales_xls_report_form" model="ir.ui.view">
            <field name="name">Wiz Stspl Sales Xls Report</field>
            <field name="model">wiz.stspl.sales.xls.report</field>
            <field name="type">form</field>
            <field name="arch" type="xml"> 
                <form string="xls Export">
                    <group col="4" colspan="4">
                        <label string="Save the File with '.xls' extension."
                            colspan="4" />
                        <field name="name" invisible="1"/>
                        <field name="file" readonly="1" filename="name" nolabel="1"/>
                    </group>
                    <footer>
                        <button string="Back" name="back" class="oe_highlight" type="object"/>
                        or
                        <button string="Close" class="oe_link" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

        <!-- Action -->
        <record model="ir.actions.act_window" id="wiz_sales_analysis_report_action">
            <field name="name">Stspl Sales Analysis</field>
            <field name="res_model">wiz.sales.analysis.report</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>

        <!-- Menu -->
        <menuitem id="wiz_sales_analysis_report_menu" parent="base.next_id_64" action="wiz_sales_analysis_report_action"/>

	</data>
</openerp>