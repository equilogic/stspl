<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
    	<!-- Template for Headre and Footer -->
    	<template id="external_layout_stspl_tax_invoice">
    		<!-- Multicompany -->
            <t t-if="o and 'company_id' in o">
                <t t-set="company" t-value="o.company_id"></t>
            </t>
            <t t-if="not o or not 'company_id' in o">
                <t t-set="company" t-value="res_company"></t>
            </t>
        
            <t t-call="stspl_purchase.external_layout_header_stspl_tax_invoice" />
            <t t-raw="0" />
            <t t-call="stspl_purchase.external_layout_footer_stspl_tax_invoice" />
    	</template>
    	
    	<!-- Report Header -->
    	<template id="external_layout_header_stspl_tax_invoice">
    		<div class="header" >
           		<div class="col-xs-3">
           			<span t-if="o.company_id">
       				<img t-att-src="'data:image/png;base64,%s' % o.company_id.logo" style="max-height: 65px;"/>
       				</span>
       			</div>
       			<div class="col-xs-8 col-xs-offset-1 text-right" >
       				<div t-if="o.company_id">
       					<div><strong><span t-field="o.company_id.name" ></span></strong></div>
       					<div><span t-field="o.company_id.street"/>
       						<span t-field="o.company_id.city"/>
       						<span t-field="o.company_id.state_id"/>
       						<span t-field="o.company_id.country_id"/>
       					</div>
       					
       					<div>
       						<span>Tel :</span>
       						<span t-field="o.company_id.phone"/>
       						
       						<span>Fax :</span>
       						<span t-field="o.company_id.fax"/>
       					</div>
       					<div>
       						<span >CO. REG. NO. </span>
       						<span t-field="o.company_id.company_registry" />
       					</div>
       					<div>
       						<span class="text-right">GST REG NO. </span>
       						<t t-if="o.company_id.gst_no"><span t-field="o.company_id.gst_no"/></t>
       					</div>
       				</div>
       			</div> 
       			
             </div>
             
    	</template>
    	<!-- Report Footer -->
    	<template id="external_layout_footer_stspl_tax_invoice">
    		<div class="footer">
               	<table style="border-top:1px solid ;" width="100%">
               		<tr>
               			<td width="80%">
 		                	<div><span>Please visit our website @ </span><span t-field="o.company_id.website" /></div>
                	<div><span>email : </span><span t-field="o.company_id.email" /></div>
                	<div><span>This is a computer generated documents and no signature is required</span></div> 
               			</td>
               			<td width="20%">
               				<ul class="list-inline" style='text-align:right'>
	                    <li>Page:</li>
	                    <li><span class="page"/></li>
	                    <li>/</li>
	                    <li><span class="topage"/></li>
	                </ul>
               			</td>
               		</tr>
               	</table>
	         </div>
    	</template>
    	
    	<!-- Reports Template  -->
		<template id="stspl_tax_invoice_template">
            <style type="text/css"> 
                td.line , span.line ,th.line {
                    font-family:times new roman;
                }
            </style>
            <t t-call="report.html_container">
            <t t-call="stspl_purchase.external_layout_stspl_tax_invoice">
               <div class="page">
                   <div class="oe_structure" />
                   
                   <div class="row" >
                   		<div class="col-xs-6">
                   			<h3>TAX INVOICE</h3>
                   		</div>
                   		<div class="col-xs-5 col-xs-offset-1">
                   			<div>
                   				<span>INV No.</span>
                   				<strong><span t-field="o.number"/></strong>
                   			</div>
                   			<div>
                   				<span>Date: </span><span t-field="o.date_invoice" t-field-options='{"format": "dd-MM-Y"}' />
                   			</div>
		                </div>
                   </div>
                   <br/>
                   		<table  width="100%"  >
                   			<tr>
                   				<th width="55%" style="padding:5px">SOLD TO</th>
                   				<th width="55%" style="padding:5px">SHIP TO</th>
                   			</tr>
                   			
                   			<tr class="table" style="border:0.5px solid black" >
                   				<td width="55%" style="border-right:0.5px solid black;padding:10px">
                   					<t t-if="o.purchase_id.partner_id">
                   					<span t-field="o.purchase_id.partner_id"
                   					t-field-options='{"widget": "contact", "fields": ["address", "name", "phone", "fax"], "no_marker": true}'/>
                   					</t>
                   					<t t-if="o.sales_id.partner_id">
                   					<span t-field="o.sales_id.partner_id"
                   					t-field-options='{"widget": "contact", "fields": ["address", "name", "phone", "fax"], "no_marker": true}'/>
                   					</t>
                   					<t t-if="not o.purchase_id and not o.sales_id">
                   						<span t-field="o.partner_id"
                   						t-field-options='{"widget": "contact", "fields": ["address", "name", "phone", "fax"], "no_marker": true}'/>
                   					</t>
                   				</td>
                   				<td width="55%" style="padding:10px">
                   					<div t-field="o.partner_id"
			                        t-field-options='{"widget": "contact", "fields": ["address", "name", "phone", "fax"], "no_marker": true}'/>
			                        <p t-if="o.partner_id.vat">VAT: <span t-field="o.partner_id.vat"/></p>
		               
                   				</td>
                   			</tr>
                   		</table>
                   		<br/>
		                <table style="border:0.5px solid black;" width="100%">
		                	<tr style="border:0.5px solid black">
		                		<td style="border:0.5px solid black;padding:5px"><strong>Customer P/O No.</strong></td>
		                		<td style="border:0.5px solid black;padding:5px"><strong>Shipment Terms</strong></td>
		                		<td style="border:0.5px solid black;padding:5px"><strong>Payment Term</strong></td>
		                		<td style="border:0.5px solid black;padding:5px"><strong>Payment Due</strong></td>
		                		<td style="border:0.5px solid black;padding:5px"><strong>Sales Person</strong></td>
		                		<td style="border:0.5px solid black;padding:5px"><strong>Currency</strong></td>
		                	</tr>
		                	<tr style="border:0.5px solid black">
		                		<td style="border:0.5px solid black;padding:5px"><span></span></td>
		                		<td style="border:0.5px solid black;padding:5px"><span/></td> 
		                		<td style="border:0.5px solid black;padding:5px"><span t-field="o.payment_term" /></td>
		                		<td style="border:0.5px solid black;padding:5px"><span t-field="o.date_due"/></td>
		                		<td style="border:0.5px solid black;padding:5px"><span t-field="o.user_id" /></td>
		                		<td style="border:0.5px solid black;padding:5px"><span t-field="o.currency_id" /></td>
		                	</tr>
		                </table>
		            <br/>
                   <table class="table table-condensed" style="border-top:1px solid black" width="100%">
                       <thead>
                           <tr>
                               <th class="text-left line" width="15%">Qty</th>
                               <th class="text-center line" width="30%">Description/Part No</th>
                               <th class="text-right line" width="15%">Unit Price</th>
                               <th class="text-right line" width="15%">Amount</th>
                           </tr>
                       </thead>
                        <tbody>
                   			<tr t-foreach="o.invoice_line" t-as="line">
	                   			<td class="text-left" width="15%">
		                            <span t-esc="get_qty(line.quantity)"/>
		                            <span t-field="line.uos_id.name"/>
		                            
	                       		 </td>
		                        <td class="text-left line" width="30%">
		                            <span t-field="line.name"/>
		                        </td>
		                        <td class="text-right line" width="15%">
		                            <span t-field="line.price_unit"/>
		                        </td>
		                        <td class="text-right line" width="15%">
		                            <span t-field="line.price_subtotal"/>
		                        </td>
                    		</tr>
	                    </tbody>
                    </table>
                    <br/><br/><br/><br/>
                    <div class="row" style="position:absolute;bottom:xxpx;">
		                <div class="col-xs-4 pull-right">
		                    <table class="table table-condensed">
		                        <tr class="border-black">
		                            <td><strong>Sub-Total</strong></td>
		                            <td class="text-right">
		                                <span t-field="o.amount_untaxed" />
		                            </td>
		                        </tr>
		                        <tr>
		                            <td>Taxes</td>
		                            <td class="text-right">
		                                <span t-field="o.amount_tax" />
		                            </td>
		                        </tr>
		                        <tr class="border-black">
		                            <td><strong>Total</strong></td>
		                            <td class="text-right">
		                                <span t-field="o.amount_total" />
		                            </td>
		                        </tr>
		                    </table>
		                 </div>
		                 <div class="col-xs-6 pull-left">
		                    <table>
		                    	<tr>
		                    		<td>PARTIAL DELIVERY</td>
		                    	</tr>
		                    	<tr>
		                    		<td>Ship Via</td>
		                    		<td></td>
		                    	</tr>
		                    	<tr>
		                    		<td>Tracking No.</td>
		                    		<td></td>
		                    	</tr>
		                    	<tr>
		                    		<td>DO No: </td>
		                    	<!-- 	<td>
		                    			<span t-field="o.purchase_id.picking_ids.name" />
		                    			<span t-field="o.sales_id.picking_ids.name" />
		                    		</td> -->
		                    	</tr>
		                    </table>
		                </div>
		             </div>
               	</div>
               </t>
               </t>
        </template>
        
        <template id="report_stspl_tax_invoice">
    		<t t-call="report.html_container">
        		<t t-foreach="doc_ids" t-as="doc_id">
            		<t t-raw="translate_doc(doc_id, doc_model, 'partner_id.lang', 'stspl_purchase.stspl_tax_invoice_template')"/>
        		</t>
    		</t>
		</template>
    </data>
</openerp>
