<openerp>
    <data>
        <template id="external_layout_stspl_sales_delivery_report_template">
      		  <!-- Multicompany -->
            <t t-if="o and 'company_id' in o">
              <t t-set="company" t-value="o.company_id"></t>
            </t>
            <t t-if="not o or not 'company_id' in o">
              <t t-set="company" t-value="res_company"></t>
            </t>        
            <t t-call="stspl_sales.external_layout_header_stspl_sales_delivery_report_template"/>
            <t t-raw="0"/>
            <t t-call="stspl_sales.external_layout_footer_stspl_sales_delivery_report_template"/>
        </template>

    	 <!-- Header for Sales Delivery Report -->

        <template id="external_layout_header_stspl_sales_delivery_report_template">
    		    <div class="header">
           		<div class="col-xs-3">
           			<span t-if="o.company_id and o.company_id.logo">
       					  <img t-att-src="'data:image/png;base64,%s' % o.company_id.logo" style="max-height: 70px;"/>
       				  </span>
       			  </div>

         			<div class="col-xs-8 col-xs-offset-1 text-right">

         				<div t-if="o.company_id" style="font-size:12px">
         					<div>
                    <h5><b><span t-field="o.company_id.name"></span></b></h5>
                  </div>
         					<div>
                    <span t-field="o.company_id.street"/>
         						<span t-field="o.company_id.city"/>
         						<span t-field="o.company_id.country_id"/>
                    <span t-field="o.company_id.zip"/>
         					</div>
         					
         					<div>
         						<span>Tel :</span>
         						<span t-field="o.company_id.phone"/>
         						<span>Fax :</span>
         						<span t-field="o.company_id.fax"/>
         					</div>

         					<div>
         						<span >CO. REG. NO.</span>
         						<span t-field="o.company_id.company_registry" />
         					</div>

         					<div>
         						<span class="text-right">GST REG NO.</span>
         						<span t-field="o.company_id.gst_no"/>
         					</div>
         				</div>

       			  </div>
            </div>
        </template>
    	      <!-- Footer for Sales Delivery Report -->
        <template id="external_layout_footer_stspl_sales_delivery_report_template">

        	<div class="footer">
            <div class="last-page">
              <div style="text-align:left;font-size:11px">
                <t t-foreach="o.sale_id" t-as="s">REMARKS: <span t-field="s.note"/></t>
              </div>  
              <br/><br/>
              <div style="text-align:left;font-size:11px">Shipping Tracking No.</div>
            </div>
            <br/><br/>
          	<table style="border-top:0.5px solid ;font-size:11px" width="100%">
          		<tr>
          		  <td>
                  <div>
                    <span>Please visit our website @ </span><span t-field="o.company_id.website"/>
                  </div>
           	      <div>
                    <span>email : </span><span t-field="o.company_id.email" />
                  </div>
                  <br/>
           	      <div>
                    <span>This is a computer generated documents and no signature is required</span>
                  </div> 
          			</td>
            		<td width="20%">
                  <br/><br/>
            			<ul class="list-inline" style='text-align:right'>
                    <li>Page:</li>
                    <li><span class="page"/></li>
                    <li>/</li>
                    <li><span class="topage"/></li>
                  </ul>
            		</td>
          		</tr>
          	</table>
          </div>
        </template>


      <template id="report.minimal_layout">
              <t t-raw="'&lt;base href=%s&gt;' % base_url"/>
              &lt;!DOCTYPE html&gt;
                  <html style="height: 0;">
                      <head>
                          <link href="/report/static/src/css/reset.min.css" rel="stylesheet"/>
                          <link href="/web/static/lib/bootstrap/css/bootstrap.css" rel="stylesheet"/>
                          <link href="/website/static/src/css/website.css" rel="stylesheet"/>
                          <link href="/web/static/lib/fontawesome/css/font-awesome.css" rel="stylesheet"/>
                          <style type='text/css'><t t-raw="css"/></style>
                          <t t-if="subst is True">
                                          <script>
                         function subst() {
                             var vars = {};
                             var x = document.location.search.substring(1).split('&amp;');
                             for (var i in x) {
                                 var z = x[i].split('=', 2);
                                 vars[z[0]] = unescape(z[1]);
                             }
                             var x=['frompage', 'topage', 'page', 'webpage', 'section', 'subsection', 'subsubsection'];
                             for (var i in x) {
                                 var y = document.getElementsByClassName(x[i]);
                                 for (var j=0; j&lt;y.length; ++j)
                                     y[j].textContent = vars[x[i]];
                             }
                             var operations = {
                    'last-page': function (elt) { elt.style.visibility = (vars.page === vars.topage) ? "visible" : "hidden"; },
                };

                             for (var klass in operations) {
                                 var y = document.getElementsByClassName(klass);
                                 for (var j=0; j&lt;y.length; ++j)
                                 operations[klass](y[j]);
                             }
                        }
                    </script>
                          </t>
                      </head>
                      <body class="container" onload="subst()">
                          <t t-raw="body"/>
                      </body>
                  </html>
            </template>



        <!-- Template for Sales Delivery Report -->
        <template id="sgtpl_sale_delivery_report_template">
          <style type="text/css"> td.line , span.line ,th.line {font-family:times new roman;}</style>
        	<t t-call="report.html_container">
            <t t-call="stspl_sales.external_layout_stspl_sales_delivery_report_template">
              <div class="page">             
                <div class="oe_structure"/>
                <div class="row">
                  <div class="col-xs-6">
                    <h4><b>DELIVERY ORDER</b></h4>
                  </div>
                  <div class="col-xs-6 text-right">
                    <div>
                      <span>DO No.</span>
                      <strong style="padding:40px"><span t-field="o.name"/></strong>
                    </div>
                    <div style="font-size:11px">
                      <span>Date </span><span style="padding:51px" t-field="o.date" t-field-options='{"format": "dd-MM-Y"}' />
                    </div>
                  </div>
                </div>

               	<table class="table tabcenter-block" width="100%" style="border: 0.5px solid;font-size:12">
             			<tr>
             				<th style="border-top: 0.5px solid;border-right:0.5px solid;" width="50%">BILL TO:</th>
             				<th style="border-top: 0.5px solid;" width="50%">SHIP TO:</th>
             			</tr>

             			<td width="50%" style="border-top: 0px white;font-size:12px">
               			<div t-if="o.sale_id.partner_invoice_id" name="partner_header">
                      <div>
                        <span t-field="o.sale_id.partner_invoice_id.name"/>
                      </div>
                      <div>
                        <span t-field="o.sale_id.partner_invoice_id.house_no"/>
                        <span t-field="o.sale_id.partner_invoice_id.street"/>
                      </div>
                      <div>
                        <span t-field="o.sale_id.partner_invoice_id.level_no"/>
                        <span t-field="o.sale_id.partner_invoice_id.street2"/>
                      </div>
                      <div>
                        <span t-field="o.sale_id.partner_invoice_id.city"/>
                        <span t-field="o.sale_id.partner_invoice_id.state_id"/>
                      </div>
                      <div>
                        <span t-field="o.sale_id.partner_invoice_id.country_id"/>
                        <span t-field="o.sale_id.partner_invoice_id.zip"/>
                      </div>
                    </div>
                    <br/>
                    <span>ATTN:</span> 
                    <span style="padding:5px" t-field="o.partner_id.parent_id"/>
             			</td>

               		<td width="50%" style="border-left: 0.5px solid; border-top: 0px white;font-size:12px">
                    <div t-if="o.partner_id" name="partner_header">
                      <div>
                        <span t-field="o.partner_id.name"/>
                      </div>
                      <div>
                        <span t-field="o.partner_id.house_no"/>
                        <span t-field="o.partner_id.street"/>
                      </div>
                      <div>
                        <span t-field="o.partner_id.level_no"/>
                        <span t-field="o.partner_id.street2"/>
                      </div>
                      <div>
                        <span t-field="o.partner_id.city"/>
                        <span t-field="o.partner_id.state_id"/>
                      </div>
                      <div>
                        <span t-field="o.partner_id.country_id"/>
                        <span t-field="o.partner_id.zip"/>
                      </div>
                    </div>
                    <br/><br/><br/>
                    <span>C.C:</span> 
                    <span style="padding:5px" t-field="o.partner_id.parent_id"/>
               		</td>
             		</table>

             		<table class="table center-block" width="100%" style="border: 0.5px solid;font-size:11px">
             			<tr style="text-align:center;border: 0.5px solid;">
             				<th style="border: 0.5px solid black" width="16%">Your Ref.</th>
             				<th style="border: 0.5px solid black" width="16%">Incoterm</th>
             				<th style="border: 0.5px solid black" width="17%">Payment Term</th>
             				<th style="border: 0.5px solid black" width="16%">Ship Via</th>
             				<th style="border: 0.5px solid black" width="17%">Sales Person</th>
             				<th style="border: 0.5px solid black" width="20%">Payment Due</th>
             			</tr>
                  <t t-foreach="o.sale_id" t-as="s">
             			  <tr style="text-align:center;border: 0.5px solid;">
             				  <td class="text-right" style="border: 0.5px solid black" width="16%">
                        <t t-if="s.client_order_ref">
                          <span t-field="s.client_order_ref"/>
                        </t>
             				  </td>

             				  <td class="text-right" style="border: 0.5px solid black" widYourth="16%">
                        <t t-if="s.incoterm">
                          <span t-field="s.incoterm"/></t>
             				  </td>
             				  <td class="text-right" style="border: 0.5px solid black" width="16%">
                        <t t-if="s.payment_term">
                          <span t-field="s.payment_term"/></t>
             				  </td>

             				  <td class="text-right" style="border: 0.5px solid black" width="16%"></td>
             				  <td class="text-right" style="border: 0.5px solid black" width="17%">
                        <t t-if="s.user_id.name">
                          <span t-field="s.user_id.name"/></t>
             				  </td>
             				  <td class="text-right" style="border: 0.5px solid black" width="20%"></td>
             			  </tr>
                  </t>
             		</table>
               	<table width="100%" style="font-size:11px">
             			<tr style="border-top: 0.5px solid;">
             	   			<th class="text-center line"  width="30%"  colspan="3" >Quantity</th>
             	   			<td class="text-center line" width="70%"> <b>Description/Part No.</b></td>
             	   	</tr>
             	   	<tr >
           	   			<th style="border-top: 0.5px solid;border-bottom: 0.5px solid " width="10%">Ord</th>
           	   			<th style="border-top: 0.5px solid;border-bottom: 0.5px solid " width="10%">Shp</th>
           	   			<th style="border-top: 0.5px solid;border-bottom: 0.5px solid " width="10%">Bck</th>
           	   		</tr>
                  <tr  t-foreach="o.move_lines" t-as="m">
                    <td  class="text-left"  width="10%"  >
                      <span t-field="m.product_uom_qty"/>
                    </td>
                    <td class="text-left"  width="10%">
                      <span t-field="m.product_uom_qty"/>
                    </td>               
                    <td class="text-left" swidth="10%">
                      <t t-foreach="o.backorder_id" t-as="b" >
                        <t t-foreach="b.move_lines" t-as="bm">
                          <span t-field="bm.product_uom_qty"/>
                        </t>
                      </t>
                    </td> 
                      <td  class="text-left"  width="70%">
                        <span t-field="m.name"/>
                      </td>
                  </tr>
             	  </table>       	   
              </div> 
     		    </t>
     	    </t>
        </template>

        <template id="report_sale_delivery_order">
      		<t t-call="report.html_container">
          	<t t-foreach="doc_ids" t-as="doc_id">
              <t t-raw="translate_doc(doc_id, doc_model, 'partner_id.lang', 'stspl_sales.sgtpl_sale_delivery_report_template')"/>
          	</t>
      		</t>
        </template>
    </data>
</openerp>